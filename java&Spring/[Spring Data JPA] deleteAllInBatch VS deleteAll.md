# [Spring Data JPA] deleteAllInBatch VS deleteAll

두 메서드 모두 모든 엔티티를 삭제하는 메서드입니다.

다만 아래와 같은 차이가 있으므로 잘 구분해서 사용하는게 좋겠습니다.

### 실행 방식

* `deleteAllInBatch` : 단일한 쿼리로 모든 엔티티를 삭제 합니다. 즉, 데이터베이스에 한 번의 삭제 쿼리를 보내고 모든 엔티티를 한 번에 삭제합니다.
* `deleteAll` : 인티티를 개별적으로 삭제합니다. 즉, 데이터베이스에 여러 개의 개별적인 삭제 쿼리를 보내고 엔티티를 하나씩 삭제합니다.

### 성능

* `deleteAllInBatch` : 대량의 엔티티를 삭제할 때 성능상 이점이 있습니다. 한 번의 쿼리로 모든 엔티티를 삭제하므로 데이터베이스와의 통신 비용이 줄어들고, 일괄 처리로 인한 성능 향상 효과가 있을 수 있습니다.
* `deleteAll` : 엔티티를 개별적으로 삭제하므로 데이터베이스와의 통신 비용이 매우 높을 수 있습니다. 대량의 삭제시 `deleteAllInBatch`를 사용하는 것이 성능면에서 더 효율적입니다.

### 영속성 컨텍스트

* `deleteAllInBatch` : 영속성 컨텍스트에 남아있는 엔티티를 신경쓰지 않고 모두 삭제합니다. 따라서 영속성 컨텍스트의 상태와 일치하지 않을 수 있습니다.
* `deleteAll` : 이 메서드는 인티티를 개별적으로 삭제하면서 영속성 컨텍스트도 업데이트합니다. 따라서 영속성 컨텍스트의 상태와 일치하도록 엔티티를 삭제합니다.






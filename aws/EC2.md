# EC2

Amazon Elastic Compute Cloud

안전하고 크기 조정이 가능한 컴퓨팅 파워를 클라우드에서 제공하는 웹 서비스

<br>

### EC2 사용 예

* 서버 구축
  * 게임서버, 웹서버, 어플리케이션 서버
* 어플리케이션 사용 및 호스팅
  * 데이터베이스
  * 머신 러닝
  * 비트코인 채굴
  * 연구용 프로그램
* 기타 다양한 목적
  * 그래픽 렌더링
  * 게임

<br>

### EC2 특성

* 초 단위 온디맨드 가격 모델
  * 가격이 초 단위로 결정
  * 서비스 요금을 미리 약정하거나 선입금 필요없음
* 빠른 구축 속도와 확장성
  * 몇 분이면 전 세계에 인스턴스 수백여대를 구축 가능
* 다양한 구성방법 지원
  * 머신러닝, 웹서버, 게임서버, 이미지처리 등 다양한 용도에 최적화된 서버 구성 가능
  * 다양한 과금 모델 사용 가능
* 여러 AWS 서비스와 연동
  * 오토스케일링, Elastic Load Balancer(ELB), CloudWatch

<br>

### EC2 구성

* 인스턴스 : 클라우드에서 사용하는 가상 서버로 CPU, 메모리, 그래픽카드 등 연산을 위한 하드웨어를 담당
* EBS : Elastic Block Storage : 클라우드에서 사용하는 가상 하드디스크
* AMI : EC2 인스턴스를 실행하기 위한 정보를 담고 있는 이미지
* 보안 그룹 : 가상의 방화벽

<br>

### 가격정책

* On-Demand
  * 실행하는 인스턴스에 따라 시간 또는 초당 컴퓨팅 파워로 측정된 가격 지불
  * 약정 필요 없음
  * 정기적인 수요 예측이 힘들거나 유연하게 EC2를 사용하고 싶을 때
  * 한번 써보고 싶을 때
* 예약 인스턴스(Reserved Instance- RI)
  * 미리 일정기간(1~3년) 약정해서 쓰는 방식
  * 최대 75%정도 저렴
  * 수요 예측이 확실할 때
  * 총 비용을 절감하기 위해 어느정도 기간의 약정이 가능한 사용자
* Spot Instance
  * 경매 형식으로 시장에 남는 인스턴스를 저렴하게 구매해서 쓰는 방식
    * 수요에 따라 스팟 인스턴스의 가격은 변동
    * 지정한 가격보다 현재 가격이 낮다면 사용
    * 지정한 가격보다 현재 가격이 높다면 반환
  * 최대 90%정도 저렴
  * 반환 시간 예측 불가능
    * 인스턴스가 확보되고 종료되는 것을 반복해도 문제 없는 분산 아키텍쳐 필요
  * 시작 종료가 자유롭거나 추가적인 컴퓨팅 파워가 필요한 경우
* 전용 호스트(Dedicated)
  * 실제 물리적인 서버를 임대하는 방식
  * 라이선스 이슈
  * 보안, 규정에 따라 필요한 경우
  * 퍼포먼스 이슈(CPU Steal 등)

##### 가격 순서

* 스팟 인스턴스 < 예약 인스턴스 < 온디맨드 < 전용 호스트

##### EC2의 가격모델은 EBS와는 별도

* EBS는 사용한 만큼 지불

##### 기타 데이터 통신 등의 비용은 별도로 청구

* AWS는 바깥으로 나가는 트래픽에 대해서만 요금 부과
